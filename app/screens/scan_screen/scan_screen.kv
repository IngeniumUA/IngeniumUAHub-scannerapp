# screen where the qr code is scanned

<ScanScreen>:
    # button to go to history screen
    Image:
        size_hint_y: None
        height: '30dp'
        size_hint_x: 0.1
        pos_hint: {"x":0.88, "y":0.92}
        source: 'app/assets/history_icon.png'
        fit_mode: "contain"
        on_touch_down: if self.collide_point(*args[1].pos): root.goto_history_screen()

    # button to go to the niet-lid_price screen
    Image:
        size_hint_y: None
        height: '36dp'
        size_hint_x: 0.12
        pos_hint: {"x":0.02, "y":0.92}
        source: 'app/assets/settings_icon.png'
        fit_mode: "contain"
        on_touch_down: if self.collide_point(*args[1].pos): root.goto_niet_lid_price_screen()

    # call class to decipher qr code and show camera
    ScanAnalyze:
        size_hint_y: 0.8
        size_hint_x: 0.98
        pos_hint: {"x":0.01, "y":0.1}
        id:preview
        extracted_data: root.got_result

    # label that shows error message if no event is selected
    MDLabel:
        id: event_empty
		size_hint_y: None
		height:'30dp'
		size_hint_x: 0.7
        pos_hint: {"x":0.15, "y":0.5}
		halign: 'center'
		color: 1,0,0,1
		text: "Selecteer eerst een evenement"
		opacity: 1
		font_size: 100
		font_name: 'app/assets/D-DIN.otf'

    # back to login screen button
    Button:
        size_hint_y: 0.08
        size_hint_x: 0.98
        pos_hint: {"x":0.01, "y":0}
        text: "Terug"
        font_name: 'app/assets/D-DIN.otf'
        color: 1,1,1,1
        background_normal: 'app/assets/buttonnormal.png'
        background_down: 'app/assets/buttondown.png'
        on_release:
            root.manager.transition.direction = "right"
            root.manager.current = "login"

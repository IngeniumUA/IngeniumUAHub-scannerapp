<ScanScreen>:
	GridLayout:
	    cols: 1
	    spacing: 2

        GridLayout:
            cols:2
            spacing: 2
            MDLabel:
                size_hint_y: None
			    height:'30dp'
			    size_hint_x: 0.3
                pos_hint: {"x":0, "y":0.95}
			    text: "Event "
			    halign: 'right'

		    TextInput:
			    size_hint_y: None
			    height:'30dp'
			    size_hint_x: 0.55
		        pos_hint: {"x":0.3, "y":0.95}
                id: event
                multiline: False

		ScanAnalyze:
		    size_hint_y: 10
			id:preview
			extracted_data: root.got_result

        Button:
            size_hint_y: None
			height:'60dp'
            text: "Back"
            color: 1,1,1,1
            background_normal: 'buttonnormal.png'
            background_down: 'buttondown.png'
            on_release:
                root.manager.transition.direction = "right"
                root.manager.current = "login"
        GridLayout:
            cols: 2
            spacing: 2
            Button:
                size_hint_y: None
			    height:'60dp'
                text: "Reset Tokens"
                color: 1,1,1,1
                background_normal: 'buttonnormal.png'
                background_down: 'buttondown.png'
                on_release:
                    root.resettokens()
            Button:
                size_hint_y: None
			    height:'60dp'
                text: "Reset Resets"
                color: 1,1,1,1
                background_normal: 'buttonnormal.png'
                background_down: 'buttondown.png'
                on_release:
                    root.resetresets()

<LoginScreen>
    MDLabel:
		size_hint_y: None
		height:'30dp'
		size_hint_x: 0.3
        pos_hint: {"x":0, "y":0.7}
		text: "Email "
		halign: 'right'

    TextInput:
        size_hint_y: None
		height:'30dp'
		size_hint_x: 0.55
		pos_hint: {"x":0.3, "y":0.7}
        id: mail
        multiline: False


    MDLabel:
		size_hint_y: None
		height:'30dp'
		size_hint_x: 0.3
        pos_hint: {"x":0, "y":0.65}
		text: "Password "
		halign: 'right'

	TextInput:
		size_hint_y: None
		height:'30dp'
		size_hint_x: 0.55
        pos_hint: {"x":0.3, "y":0.65}
        id: passw
        multiline: False
        password: True

    MDLabel:
        id: validitylabel
		size_hint_y: None
		height:'30dp'
		size_hint_x: 0.7
        pos_hint: {"x":0.3, "y":0.61}
		halign: 'left'
		color: 1,0,0,1
		font_size: 17

    Button:
        id: confirmbutton
        size_hint: .5, .08
        pos_hint: {"x":0.25, "y":0.5}
        text: "Submit"
        color: 1,1,1,1
        background_normal: 'buttonnormal.png'
        background_down: 'buttondown.png'
        on_release:
            root.login()
            root.buttonpress()



<TokenScreen>
    GridLayout:
        cols:1
        MDLabel:
            halign: "center"
            text: "Refreshing Token"
			size_hint_y: 0.8
			background_color: 0, 0, 1, 1
            canvas.before:
                Color:
                    rgba: 0, 0, 1, 1
                Rectangle:
                    size: self.size
                    pos: self.pos
        Button:
            size_hint_y: 0.2
            text: "Back"
            color: 1,1,1,1
            background_normal: 'buttonnormal.png'
            background_down: 'buttondown.png'
            on_release:
                root.manager.transition.direction = "right"
                root.manager.current = "scan"

<ValidScreen>
    GridLayout:
        cols:1
        MDLabel:
            halign: "center"
            text: "Valid"
			size_hint_y: 0.8
			background_color: 0, 1, 0, 1
            canvas.before:
                Color:
                    rgba: 0, 1, 0, 1
                Rectangle:
                    size: self.size
                    pos: self.pos
        Button:
            size_hint_y: 0.2
            text: "Back"
            color: 1,1,1,1
            background_normal: 'buttonnormal.png'
            background_down: 'buttondown.png'
            on_release:
                root.manager.transition.direction = "right"
                root.manager.current = "scan"

<InValidScreen>
    GridLayout:
        cols:1
        MDLabel:
            halign: "center"
            text: "Invalid"
            color: 1,1,1,1
            background_normal: 'buttonnormal.png'
            background_down: 'buttondown.png'
			size_hint_y: 0.8
			background_color: 253/255, 127/255, 57/255, 1
            canvas.before:
                Color:
                    rgba: 253/255, 127/255, 57/255, 1
                Rectangle:
                    size: self.size
                    pos: self.pos
        Button:
            size_hint_y: 0.2
            text: "Back"
            color: 1,1,1,1
            background_normal: 'buttonnormal.png'
            background_down: 'buttondown.png'
            on_release:
                root.manager.transition.direction = "right"
                root.manager.current = "scan"

<UsedScreen>
    GridLayout:
        cols:1
        MDLabel:
            halign: "center"
            text: "Used"
			size_hint_y: 0.8
			background_color: 1, 0, 0, 1
            canvas.before:
                Color:
                    rgba: 1, 0, 0, 1
                Rectangle:
                    size: self.size
                    pos: self.pos
        Button:
            size_hint_y: 0.2
            text: "Back"
            color: 1,1,1,1
            background_normal: 'buttonnormal.png'
            background_down: 'buttondown.png'
            on_release:
                root.manager.transition.direction = "right"
                root.manager.current = "scan"

<PaylessScreen>
    GridLayout:
        cols:1
        MDLabel:
            halign: "center"
            text: "Didn't Pay"
			size_hint_y: 0.8
			background_color: 1, 0, 0, 1
            canvas.before:
                Color:
                    rgba: 1, 0, 0, 1
                Rectangle:
                    size: self.size
                    pos: self.pos
        Button:
            size_hint_y: 0.2
            text: "Back"
            color: 1,1,1,1
            background_normal: 'buttonnormal.png'
            background_down: 'buttondown.png'
            on_release:
                root.manager.transition.direction = "right"
                root.manager.current = "scan"
